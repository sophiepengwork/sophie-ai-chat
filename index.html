<script type="module">
    import Chatbot from "https://cdn.jsdelivr.net/npm/flowise-embed/dist/web.js"

    Chatbot.initFull({
        chatflowid: "a24ebb8d-d82a-46df-b0dc-3ba2886ca12a",
        apiHost: "https://cloud.flowiseai.com",

        theme: {
            customCSS: `
                /* --- ÊâìÂ≠ó‰∏≠ÂãïÁï´ dots --- */
                .typing-indicator {
                    display: flex;
                    gap: 4px;
                    padding: 10px;
                }
                .typing-indicator div {
                    width: 6px;
                    height: 6px;
                    border-radius: 50%;
                    background: #b7c277;
                    animation: blink 1.4s infinite both;
                }
                .typing-indicator div:nth-child(2) {
                    animation-delay: 0.2s;
                }
                .typing-indicator div:nth-child(3) {
                    animation-delay: 0.4s;
                }

                @keyframes blink {
                    0% { opacity: .2; transform: translateY(0); }
                    20% { opacity: 1; transform: translateY(-3px); }
                    100% { opacity: .2; transform: translateY(0); }
                }

                /* --- fade-in for messages --- */
                .flowise-message {
                    animation: fadeIn 0.35s ease forwards;
                    opacity: 0;
                }
                @keyframes fadeIn {
                    from { opacity: 0; transform: translateY(4px); }
                    to { opacity: 1; transform: translateY(0); }
                }
            `,

            chatWindow: {
                showTitle: true,
                showAgentMessages: true,

                /* --- Title ÈÉ®ÂàÜ --- */
                title: "Sophie.AI",
                titleAvatarSrc: "https://drive.google.com/uc?id=1BGrJGHcFAPRQ4BnHSX_qm6RF9qn2U4zE",
                header: {
                    backgroundColor: "#D8E493",
                    textColor: "#333333",
                },

                /* --- Ëá™Ë®ÇÊ≠°ËøéË®äÊÅØ --- */
                welcomeMessage: `Hi there, welcome to Sophie.AI! üëã  
Curious about Sophie‚Äôs product work, AI projects, UX strategy, or career journey?  
Just ask ‚Äî I‚Äôm here to helpüíñ`,

                /* --- Ëá™Ë®ÇÈåØË™§Ë®äÊÅØ --- */
                errorMessage: `Oops! I couldn‚Äôt process that request.  
Try asking again or use a different phrasing.`,

                /* --- ËÅäÂ§©ËÉåÊôØ --- */
                backgroundColor: "#FFFFFF",
                height: "100%",
                width: "100%",
                fontSize: 16,

                /* --- SOPHIE.AI STYLE: Bot Message --- */
                botMessage: {
                    backgroundColor: "#F5F9E7",
                    textColor: "#333333",
                    showAvatar: true,
                    avatarSrc: "https://raw.githubusercontent.com/zahidkhawaja/langchain-chat-nextjs/main/public/parroticon.png"
                },

                /* --- SOPHIE.AI STYLE: User Message --- */
                userMessage: {
                    backgroundColor: "#EEF5D0",
                    textColor: "#333333",
                    showAvatar: true,
                    avatarSrc: "https://raw.githubusercontent.com/zahidkhawaja/langchain-chat-nextjs/main/public/usericon.png"
                },

                /* --- Input --- */
                textInput: {
                    placeholder: "Ask me anything about my work!",
                    backgroundColor: "#FFFFFF",
                    textColor: "#333333",
                    sendButtonColor: "#E9F0C8",
                    sendButtonIconColor: "#333333",
                },

                footer: {
                    textColor: "#303235",
                    text: "Designed by Sophie Peng ¬∑ Powered by",
                    company: "Flowise",
                    companyLink: "https://flowiseai.com"
                }
            }
        }
    })
</script>
